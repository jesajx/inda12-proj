
Hur vi svarade på ovanstående frågor:
\begin{enumerate}
    \item Förflyttningen av planeter har delats upp i system och komponenter
        som beskrivet i 5 Programdesign.

        \vspace{6pt}

        Gravitationssystemet använder ett s.k. Quad Tree för att
        spara positioner och massor.
        Varje nod i trädet innehåller referenser till fyra under-träd, 
        den totala massan av alla planeter i trädet och dess under-träd
        och det s.k. masscentrum av massorna och planterna.
        Varje planet jämförs sedan med trädet.
        Om en nods masscentrum är tillräckligt långt bort kan
        dess mass-total och -centrum
        användas för att beräkna noden som en planet, snarare än att
        dyka ner och jämföra med varje planet - vilket annars skulle göras
        om nodens masscentrum är nära med jämförande planeten.

        \vspace{6pt}

        Kollisionsystemet använder en s.k.
        \textit{Sweep and Prune}-algoritm (SAP).

        Till varje planet skapas en s.k. hastighetscirkel - 
        den har samma position som planeten, men dess radie
        är planetes radie adderat med längden av planetens hastighetvektor.

        HastighetsCirkeln passas sedan in i en fyrkant - dvs.
        max och min värden beräknas i x- och y-led.
        Planeterna sorteras sedan efter deras hastighetscirkels x-min.

        Det är sedan lätt att kontrollera vilka cirklar som överlappar
        i x-led.

        Om två cirklar överlappar i x-led, kontrolleras de i y-led.
        Om de även där överlappar kontrolleras om och hur
        planeterna faktiskt kolliderar - genom beräkna tiderna de kolliderar.

    \item Kollisioner hanteras som elastiska stötar.
        Kollisionsystemet har snabbats upp som beskrivet ovan.
        Detta är en stor förbättrning från att alla planeter
        jämförs med alla ($O(n^2)$), även om programmet ändå blir långsamt med
        många aktiva planeter.
    \item Parallellisering har endast används i framtidssystemet.
    \item Framtidssystemet har implementerats, men utan kollisioner,
        då dessa gjorde det för långsamt.
\end{enumerate}

